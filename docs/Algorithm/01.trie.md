---
title: 트라이 알고리즘
meta:
  - name: description
    content: 트라이 알고리즘, trie 알고리즘, Trie 알고리즘
  - property: og:title
    content: Trie 알고리즘
  - property: og:description
    content: Trie 알고리즘에 대해 정리하였습니다.
---

# Trie 알고리즘

## Trie 개념
트라이(Trie)란 문자열을 저장하고 효율적으로 탐색하기 위한 트리 형태의 자료구조이다. 트리 형태의 자료구조는 다음과 같은 그림으로 이루어진다.

<center>
  <figure>
    <img src="https://user-images.githubusercontent.com/22426851/98461577-96c08880-21f0-11eb-8a8d-88017f1efd1b.jpeg" alt="tree algorithm">
    <figcaption style="font-size: 14px;">
      <a href="http://blog.daum.net/servant2342/8382646" target="_blank" rel="noopener noreferrer">이미지 출처</a>
    </figcaption>
  </figure>
</center>

트리 구조는 기본적으로 **Node(Root Node, Parent Node, Child Node)**, **Edge**, **Terminal Node**, **Degree**로 이루어진다.

**Root Node** : 트리 구조에서 최상위에 존재하는 A와 같은 노드다.  
**Parent Node** : 예를 들어 E, F의 Parent Node는 B다.  
**Child Node** : 예를 들어 B의 Child Node는 E, F다  
**Edge** : Node와 Node를 연결하는 선이다.  
**Terminal Node** : Child Node 가 없는 노드이다. 위 그림에서는 K, L, F, G, M,  I, J다.  
**Degree** : Child Node를 가지고 있는 수다. 위 그림에서 D의 Degree는 3이다.  


## 사용목적
주로 문자열 탐색할때 사용되는데, 단순하게 하나씩 비교하면서 탐색을 하는것보다 훨씬 효율적이다. 다만 빠르게 탐색이 가능하다는 장점이 있지만 각 노드에서 다음 문자를 가리키는 노드가 필요하다. 즉, 노드 갯수만큼 필요한 포인터 배열을 가지고 있어야 한다.

사용 예) 검색어 자동완성, 사전에서 문자열 검사 등

## 시간복잡도
트라이 알고리즘을 만들때에 시간복잡도는 O(M*N)이고, 탐색할때 시간복잡도는 O(N)이다.

총 문자열의 수를 M, 제일 긴 문자열의 길이를 N이라고 가정한다. 예를들어 아래와 같은 문자열 배열이 있다면 모든 문자열들을 넣어야 하니 M개의 트라이 자료구조에 넣고, 긴 문자열 만큼 걸리니까 N만큼 걸립니다.

탐색할때는 트리를 타고 들어가봈자 긴 문자열의 길이만큼 탐색하기 때문에 O(N)이 된다.

```javascript
["Joe", "John", "Johnny", "Jane", "Jack"]
```

<center>
  <figure>
    <img src="https://user-images.githubusercontent.com/22426851/97883307-0a354680-1d68-11eb-83c0-d4377246bbed.jpg" alt="trie algorithm">
    <figcaption style="font-size: 14px;">
      <a href="https://blog.ilkyu.kr/entry/%ED%8C%8C%EC%9D%B4%EC%8D%AC%EC%97%90%EC%84%9C-Trie-%ED%8A%B8%EB%9D%BC%EC%9D%B4-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0" target="_blank" rel="noopener noreferrer">이미지 출처</a>
    </figcaption>
  </figure>
</center>

## Trie 알고리즘 관련 문제 구현
예제: [프로그래머스 2018 카카오 블라인드 채용 [3]차 자동완성 문제](https://programmers.co.kr/learn/courses/30/lessons/17685)

사용언어 : python3


```javascript
["word", "war", "warrior", "world"]
```

단어를 찾을 때 입력해야 할 총 문자수를 리턴해야한다.
- `word`는 `word`까지 모두 입력해야 한다. (입력할 총 문자수 4)
- `war`는 `war`까지 모두 입력해야 한다. (입력할 총 문자수 3)
- `warrior`는 `warr`까지만 입력하면 된다. (입력할 총 문자수 4)
- `world`는 `worl`까지만 입력하면 된다. (word와 구분되어야 한다. 총 문자수 4)

각 단어의 입력할 총 문자수를 다 더하면 15를 리턴하게 된다.  
문제에서 입출력 예제인 위 배열로 트라이 알고리즘을 그려보면 아래와 같다.  
<center>
  <figure>
    <img src="https://user-images.githubusercontent.com/22426851/98465231-3428b600-220b-11eb-9721-01daf7f092dd.png" alt="trie algorithm">
  </figure>
</center>  
```python
# 구현 코드
def make_trie(words):
    root = {}
    for word in words:
        current = root
        for letter in word:
            current.setdefault(letter, [0, {}])
            current[letter][0] += 1
            current = current[letter][1]
    return root

def solution(words):
    answer = 0
    trie = make_trie(words)
    for word in words:
        cur_Trie = trie
        for i in range(len(word)):
            if cur_Trie[word[i]][0] == 1 :
                break
            cur_Trie = cur_Trie[word[i]][1]
        answer += i+1
    return answer
```
